!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("apxor")):"function"==typeof define&&define.amd?define(["apxor"],e):(t=t||self)["apxor-qe"]=e(t.Apxor)}(this,(function(t){"use strict";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function n(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,l(i.key),i)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var d=window.ApxorLogger,v=function(t){return void 0!==t&&!function(t){return null===t}(t)},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function h(t,e){return Array.from(e).map((function(e,n){return String.fromCharCode(e^function(t,e){return t.charCodeAt(Math.floor(e%t.length))}(t,n))})).join("")}var p=function(t,e){return h(t,e=function(t){var e,n,i,r,a,o,u=0,s=[];if(!t)return t;t+="";do{e=(o=f.indexOf(t.charAt(u++))<<18|f.indexOf(t.charAt(u++))<<12|(r=f.indexOf(t.charAt(u++)))<<6|(a=f.indexOf(t.charAt(u++))))>>16&255,n=o>>8&255,i=255&o,s.push(e),64!==r&&(s.push(n),64!==a&&s.push(i))}while(u<t.length);return s}(e))},g=function(t){switch(t){case"app_event":return"AE";case"client_event":return"CE";case"activity_time":case"activity_event":return"AE"}return"Unknown"},m=function(t){return t.toUpperCase()},_=function(t,e,n){switch(n){case"EQ":return t===e;case"GT":return t>e;case"GTE":return t>=e;case"LT":return t<e;case"LTE":return t<=e;case"NEQ":return t!==e;case"R":return y(e).test(t);default:return!1}},y=function(t){var e=t.replace(/.*\/([gimuy]*)$/,"$1");e===t&&(e="");var n=e?t.replace(new RegExp("^/(.*?)/"+e+"$"),"$1"):t;return new RegExp(n,e)},w=function(){var t=new Date;return t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear()},E=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t||!e||!n)return!1;var r=n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),a=e.replace(new RegExp(r,"g"),"(.+)"),o=i?"^".concat(a):"".concat(a,"$"),u=new RegExp(o);return u.test(t)};function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a=A(t,e);if(a){var o=function(){if(S(a)){return function(t){return N(t)}(a)}return d.info("Invalid target element. Width and height are 0 for element: ".concat(t,". Can't show tooltip")),!1};return o()}return n?(d.info("Not found yet. Rechecking the DOM."),b(r,i,t,e)):(d.info("Element with selector:".concat(t," not found.")),!1)}function b(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=setInterval((function(){var e=A(n,i);if(e){clearInterval(r);!function(){if(S()){N()}else d.info("Invalid target element. Width and height are 0 for element: ".concat(n,". Can't show tooltip"))}()}else(t-=1)<=0&&(clearInterval(r),console.warn("Element with selector:".concat(n," not found.")))}),e)}var A=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=document.getElementById(t);if(!i)try{i=document.querySelector(t)}catch(t){window.ApxorLogger.error("Error finding element in DOM:"+t)}(i||(i=O(t)),!i&&n.length>0)&&(i=null===(e=document.getElementById(n))||void 0===e||null===(e=e.contentWindow)||void 0===e||null===(e=e.document)||void 0===e?void 0:e.querySelector(t));return i},O=function(t){var e=t.indexOf("svg");-1!==e&&(t=t.substring(0,e)+"svg:svg");try{return document.rBxE(t,document,(function(t){return"svg"===t?"http://www.w3.org/2000/svg":null}),XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(t){window.ApxorLogger.error("Error finding element in DOM:"+t)}return null};function S(t){try{var e=t.getBoundingClientRect();if(0===e.width||0===e.height)return!1}catch(t){return!1}return!0}function N(t){var e,n,i,r;return!!(n=(e=t).offsetHeight,i=e.offsetWidth,(r=e.getBoundingClientRect()).left>=-i&&r.top>=-n&&r.right<=(window.innerWidth||document.documentElement.clientWidth)+i&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)+n)}var C=function(t){var e='\n        <style> \n          .apx-container{\n            padding:10px;\n          }\n        </style>\n        <div id="apx-innerElement" class="apx-container">\n              <div id="close-button" style="cursor: pointer;position:absolute;top:9px;right:9px;"><svg width="11" height="11" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path opacity="0.5" d="M11.0962 9.07071L17.8586 15.8331L15.8331 17.8586L9.0707 11.0962L8.99999 11.0255L8.92928 11.0962L2.16693 17.8586L0.141421 15.8331L6.90379 9.07071L6.9745 9L6.90379 8.92929L0.141421 2.16694L2.16693 0.141422L8.92928 6.9038L8.99999 6.97451L9.0707 6.9038L15.8331 0.141422L17.8586 2.16694L11.0962 8.92929L11.0255 9L11.0962 9.07071Z" fill="white" stroke="#002845" stroke-width="0.2"/>\n                </svg>\n              </div>\n              <div style="font-family: inherit;font-style: normal;font-weight: 600;font-size: 16px;line-height: 22px;\n              color: #FFFFFF; display: flex; gap: 12px;"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-circle-check-filled" width="33" height="33" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n  <path d="M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z" stroke-width="0" fill="currentColor" />\n</svg><div style = "align-self: center;padding-right:20px;">'.concat(t,"</div></div>\n        </div>\n      "),n=document.createElement("div");n.style="\n        z-index:99999999;\n        background:#16202f;\n        position:fixed;\n        top:1%;\n        right:1%;\n        border-radius: 12px;\n      ",n.innerHTML=e,n.id="apx-container",document.body.appendChild(n)},D=window.ApxorLogger,L=o((function e(){var n=this;r(this,e),u(this,"ttxb","ALL"),u(this,"lAmo",[]),u(this,"KKkq",[]),u(this,"userAttributesValidated",!0),u(this,"sessionAttributeValidated",!0),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(n.ttxb=t.audience.audience_type,n.lAmo=t.audience.attributes.user,n.KKkq=t.audience.attributes.session,!Array.isArray(n.lAmo)||!Array.isArray(n.KKkq))return D.error("No attributes"),!1}catch(t){return D.error(t),!1}return!0})),u(this,"validate",(function(e,i){var r=!0;"FTU"===n.ttxb&&(r=t.getController().getSessionInfo().is_first_session);var a=n.gRtm(e,n.lAmo),o=n.gRtm(i,n.KKkq);return a||(n.userAttributesValidated=!1),o||(n.sessionAttributeValidated=!1),r&&a&&o})),u(this,"gRtm",(function(t,e){var n=e.length,i=!0;try{for(var r,a=function(){var n=e[o];if(void 0===t[n.name]||!1===i)return{v:!1};var r=n.operator,a=n.type,u=n.value.map((function(t){if("s"===a)return t;if("l"===a)return parseInt(t);if("f"===a)return parseFloat(t);if("b"===a)switch(t){case"true":return!0;case"false":return!1;default:return t}})),s=(Array.isArray(t[n.name])?t[n.name]:[t[n.name]]).some((function(t){return u.some((function(e){return"s"===a?t="".concat(t):"l"===a?t=parseInt(t):"f"===a?t=parseFloat(t):"b"===a&&(t=!!t),_(t,e,r)}))}));i=i&&s},o=0;o<n;o++)if(r=a())return r.v}catch(t){D.error(t),i=!1}return i}))})),z=window.ApxorLogger,T=o((function e(){var n=this;r(this,e),u(this,"LwAH",0),u(this,"lAHN",0),u(this,"zlJQ","SESSION"),u(this,"YTUo",0),u(this,"rsJY",0),u(this,"tHTx",0),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{n.erzi=t._id,n.yucQ=t.meta,n.LwAH=t.frequency.count,-1===n.LwAH&&(n.LwAH=1e3),n.tHTx=n.LwAH,n.lAHN=t.frequency.time_interval,n.zlJQ=t.frequency.validity,n.rsJY=t.frequency.ses_lmt,n._dayCount=t.frequency.day_lmt;var e=rt.getInstance().getQeState();if(!v(e)||!v(e[t._id]))return!0;if("SESSION"===n.zlJQ){if(n.LwAH=parseInt(n.LwAH)-parseInt(e[t._id].SESSION),n.LwAH<=0)return n.kuEF("Session limit reached"),console.warn("Max count limit reached for session:"+t._id),!1}else{if("OVERALL"!==n.zlJQ)return z.info("Invalid config."),!1;if(n.LwAH=parseInt(n.LwAH)-parseInt(e[t._id].OVERALL),n.LwAH<=0)return n.kuEF("Overall limit reached"),console.warn("Max count limit reached for overall:"+t._id),!1}}catch(t){return z.error(t),!1}return!0})),u(this,"Rpge",(function(){n.LwAH=n.LwAH-1})),u(this,"getFrequencyCount",(function(){return n.LwAH})),u(this,"lVvT",(function(){"SESSION"===n.zlJQ&&(n.LwAH=n.tHTx,z.info("Campaign Limit reset"))})),u(this,"TwxP",(function(t){try{if(n.LwAH<=0)return"OVERALL"===n.zlJQ?n.kuEF("Overall limit reached"):"SESSION"===n.zlJQ&&n.kuEF("Session limit reached"),!1;var e=rt.getInstance().getQeState();if(!v(e)||!v(e[t]))return!0;if(0!==n.rsJY)if(parseInt(n.rsJY)-parseInt(e[t].SESSION)<=0)return n.kuEF("Session limit reached"),!1;if(0!==n._dayCount){var i,r=w();if(parseInt(n._dayCount)-parseInt((null===(i=e[t])||void 0===i?void 0:i.DATES[r])||0)<=0)return n.kuEF("Day limit reached"),!1}}catch(t){n.kuEF("Error validating the frequency: ".concat(t)),z.error("Error validating the frequency:"+t)}return!0})),u(this,"kuEF",(function(e){var i;null==t||t.logEvent("apx_non_eligible_user",{apx_nudge_type:"SURVEY"===n.yucQ.type?"survey":"campaign",apx_nudge_id:n.erzi,apx_nudge_name:n.yucQ.name,apx_variant_code:n.yucQ.isExperiment||n.yucQ.only_context?null===(i=n.yucQ.attr)||void 0===i?void 0:i.apx_variant_code:"TG",apx_failure_type:"warn",apx_reason:e})}))})),k=o((function t(){var e=this;r(this,t),u(this,"aEjc",""),u(this,"ttxb",""),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var n,i;e.aEjc=t.meta.name,e.ttxb=t.meta.type,e._only_context=t.meta.only_context,e._attr=(null===(n=t.meta)||void 0===n?void 0:n.attr)||{},e._isExperiment=null===(i=t.meta)||void 0===i?void 0:i.isExperiment}catch(t){return window.ApxorLogger.error(t),!1}return!0}))})),F=window.ApxorLogger,Q=o((function t(){var e=this;r(this,t),u(this,"BdGc",-1),u(this,"OXYJ",-1),u(this,"COlG",-1),u(this,"elod",-1),u(this,"uezK",!1),u(this,"_nudge_expired",!1),u(this,"_not_yet_active",!1),u(this,"_not_in_specified_time",!1),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(isNaN(Date.parse(t.validity.start_date))||isNaN(Date.parse(t.validity.end_date)))return F.error("Not valid dates"),!1;if(e.BdGc=Date.parse(t.validity.start_date),e.OXYJ=Date.parse(t.validity.end_date),v(t.at_specific_time)&&(e.uezK=t.at_specific_time,e.uezK&&v(t.time_limits))){var n=(new Date).toISOString().split("T")[0];if(e.COlG=Date.parse(n+"T"+t.time_limits.start_time+":00.000Z"),e.elod=Date.parse(n+"T"+t.time_limits.end_time+":00.000Z"),isNaN(e.COlG)||isNaN(e.elod))return F.error("Not valid times"),!1}}catch(t){return F.error(t),!1}return!0})),u(this,"validate",(function(){var t=Date.now();return t>e.BdGc&&t<e.OXYJ?(!e.uezK||t>=e.COlG&&t<=e.elod||(e._not_in_specified_time=!0),!e.uezK||t>=e.COlG&&t<=e.elod):(t<e.BdGc?e._not_yet_active=!0:t>e.OXYJ&&(e._nudge_expired=!0),!1)}))})),R=o((function t(){var e=this;r(this,t),u(this,"aEjc",""),u(this,"PmGp",{}),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{e.aEjc=t.name,e.PmGp=t.additional_info}catch(t){return!1}return!0}))})),j=o((function t(){var e=this;r(this,t),u(this,"uanS",0),u(this,"jTOM",0),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(e.uanS=Number(t.lower),e.jTOM=Number(t.upper),isNaN(e.uanS)||isNaN(e.jTOM))return!1}catch(t){return!1}return!0}))})),J=o((function t(){var e=this;r(this,t),u(this,"QCSo",0),u(this,"pNNC",""),u(this,"GaXi",""),u(this,"iuZt",new R),u(this,"aUCc",new j),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return e.pNNC=t.event_type,e.GaXi=t.activity,e.iuZt.parse(t.details)&&e.aUCc.parse(t.time_bounds)}catch(t){return!1}}))})),I=window.ApxorLogger,K=o((function t(){var e=this;r(this,t),u(this,"QCSo",0),u(this,"Zfxm",-1),u(this,"LwAH",0),u(this,"uRuJ",""),u(this,"GaXi",""),u(this,"pNNC",""),u(this,"aUCc",new j),u(this,"iuZt",new R),u(this,"eHqv",new J),u(this,"KHyu","AND"),u(this,"XOvF",!1),u(this,"ttxb",void 0),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return e.Zfxm=t.sequence,e.LwAH=t.count_config.count,e.uRuJ=t.count_config.operator,e.GaXi=t.activity,e.pNNC=t.event_type,e.KHyu=t.combine_operator,e.ttxb=t.type,e.iuZt.parse(t.details)&&e.eHqv.parse(t.trigger)&&e.aUCc.parse(t.time_bounds)}catch(t){return I.error(t),!1}}))})),H=window.ApxorLogger,q=o((function t(){var e=this;r(this,t),u(this,"LwAH",0),u(this,"uRuJ",""),u(this,"pNNC",""),u(this,"aUCc",new j),u(this,"iuZt",new R),u(this,"KHyu","AND"),u(this,"parse",(function(t){try{return e.LwAH=t.count_config.count,e.uRuJ=t.count_config.operator,e.pNNC=t.event_type,e.KHyu=t.combine_operator,e.iuZt.parse(t.details)&&e.aUCc.parse(t.time_bounds)}catch(t){return H.error(t),!1}}))})),G=window.ApxorLogger,P=function(){function e(){var n=this;r(this,e),u(this,"mauS",0),u(this,"erzi",""),u(this,"acJR",new K),u(this,"zkUz",new q),u(this,"MQNi",!1),u(this,"Bjuy",!1),u(this,"Lhmn",0),u(this,"KHyu","AND"),u(this,"llth","OR"),u(this,"qUSu",-1),u(this,"LbhY",[]),u(this,"WLhE",{}),u(this,"vuGx",!1),u(this,"initialize",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";if(n.erzi=i,n.Lhmn=r,n.LbhY=o,"termination"===u&&""!==u){n.zkUz.parse(e);return n.llth=n.zkUz.KHyu,n.pgOf(),!0}var s=n.acJR.parse(e);if(s){if(n.KHyu=n.acJR.KHyu,n.acJR.XOvF){var c=n.acJR.iuZt.aEjc;"APX_PAGE_OPENED"===c&&(c=n.acJR.iuZt.PmGp.navigation_id,c=v(c)?c:n.acJR.iuZt.aEjc),n.qUSu=t.getController().getEventCount(c);var l=n.acJR.LwAH,d=n.acJR.uRuJ;if(n.Bjuy=n.Xsdr(n.qUSu-1,l,d,!1),n.MQNi=n.Bjuy,n.Bjuy&&"APX_PAGE_OPENED"===n.acJR.iuZt.aEjc)return!0}return a&&0!==r||n.cVqA(),!0}return!1})),u(this,"cVqA",(function(){var t,e=n.acJR,i=e.eHqv,r=rt.getInstance();"app_start"===i.pNNC?(n.MQNi=!0,r.registerForEvent(g(e.pNNC)+"___"+e.iuZt.aEjc,n.nNrG)):r.registerForEvent(g(e.pNNC)+"___"+i.iuZt.aEjc,n.nNrG),null!==(t=window.ApxorRTM)&&void 0!==t&&t.badgesLists.includes(n.erzi)&&r.registerForEvent(g(e.pNNC)+"___"+"apxor-badge-container-".concat("-".concat(n.erzi).replaceAll(" ","").replace(/[^\w\s]/gi,"")),n.nNrG)})),u(this,"pgOf",(function(){var t=n.zkUz,e=rt.getInstance();n.MQNi=!0,e.registerForEvent(g(t.pNNC)+"___"+t.iuZt.aEjc,n.iZOo)})),u(this,"FaDp",(function(t,e,i,r){var a,o=(Date.now()-n.WLhE[e])/1e3;(null===(a=n.acJR)||void 0===a||null===(a=a.iuZt)||void 0===a||null===(a=a.PmGp)||void 0===a?void 0:a.time)/1e3>o&&n._displayCampaign(i)})),u(this,"ZPsf",(function(t,e,i,r){var a,o;n.vuGx=!0;var u=Date.now(),s=null===(a=n.acJR)||void 0===a||null===(a=a.eHqv)||void 0===a?void 0:a.iuZt.aEjc,c=(u-n.WLhE[s])/1e3,l=null===(o=n.acJR)||void 0===o||null===(o=o.iuZt)||void 0===o||null===(o=o.PmGp)||void 0===o?void 0:o.time;(l/=1e3)>c&&n._displayCampaign(i)})),u(this,"nNrG",(function(e,i,r,a){var o,u;console.log(i,Date.now());var s=rt.getInstance();if(n.MQNi){if(null!==(o=window.ApxorRTM)&&void 0!==o&&o.isBadgePresent&&null!==(u=window.ApxorRTM)&&void 0!==u&&u.badgesLists.includes(n.erzi)&&t.getController().isBadgeTriggerSatisfied(n.erzi))return n.Bjuy=!0,n.acJR.QCSo=r,void s.validate(n.erzi,n.Lhmn);g(n.acJR.pNNC)===e&&n.uMwi(r-n.acJR.eHqv.QCSo,n.acJR.aUCc)&&n.acJR.iuZt.aEjc===i&&n.CPmR(n.acJR.iuZt.PmGp,a)&&(n.mauS+=1,n.Bjuy=n.Xsdr(n.mauS,n.acJR.LwAH,n.acJR.uRuJ),n.Bjuy&&(n.acJR.QCSo=r,s.validate(n.erzi,n.Lhmn)))}else if(n.MQNi=n.fBKF(e,i,r,a),n.MQNi){var c=n.acJR,l=c.eHqv;if(l.QCSo=r,"activity_time"===(null==c?void 0:c.pNNC)){var d,v,f,h=null==c||null===(d=c.iuZt)||void 0===d||null===(d=d.PmGp)||void 0===d?void 0:d.time;(null==c||null===(v=c.iuZt)||void 0===v||null===(v=v.PmGp)||void 0===v?void 0:v.nkpi.length)>0&&(setTimeout((function(){n.vuGx||(n.Bjuy=!0,n.Bjuy&&(n.mauS+=1,n.Bjuy=n.Xsdr(n.mauS,n.acJR.LwAH,n.acJR.uRuJ),n.Bjuy&&(n.acJR.QCSo=r,s.validate(n.erzi,n.Lhmn)))),c.iuZt.PmGp.nkpi.map((function(t){s.unregisterFromEvent(m(c.iuZt.PmGp.et)+"___"+t,n)}))}),h),c.iuZt.PmGp.nkpi.map((function(t){s.registerForEvent(m(c.iuZt.PmGp.et)+"___"+t,n.ZPsf)}))),(null==c||null===(f=c.iuZt)||void 0===f||null===(f=f.PmGp)||void 0===f?void 0:f.kpi.length)>0&&(setTimeout((function(){c.iuZt.PmGp.kpi.map((function(t){s.unregisterFromEvent(m(c.iuZt.PmGp.et)+"___"+t,n)}))}),h),c.iuZt.PmGp.kpi.map((function(t){t===c.eHqv.iuZt.aEjc?(s.unregisterFromEvent(g(l.pNNC)+"___"+l.iuZt.aEjc,n),s.registerForEvent(m(c.iuZt.PmGp.et)+"___"+t,n.FaDp)):s.registerForEvent(m(c.iuZt.PmGp.et)+"___"+t,n.ZPsf)})))}else s.unregisterFromEvent(g(l.pNNC)+"___"+l.iuZt.aEjc,n),s.registerForEvent(g(c.pNNC)+"___"+c.iuZt.aEjc,n);n.WLhE[i]=Date.now()}})),u(this,"iZOo",(function(t,e,i,r){var a=rt.getInstance();g(n.zkUz.pNNC)===t&&n.uMwi(i,n.zkUz.aUCc)&&n.zkUz.iuZt.aEjc===e&&n.CPmR(n.zkUz.iuZt.PmGp,r)&&(n.mauS+=1,n.Bjuy=n.Xsdr(n.mauS,n.zkUz.LwAH,n.zkUz.uRuJ),n.Bjuy&&(n.zkUz.QCSo=i,a.validateForTermination(n.erzi,n.Lhmn)))})),u(this,"fBKF",(function(t,e,i,r){var a=n.acJR.eHqv;return g(a.pNNC)===t&&a.iuZt.aEjc===e&&n.uMwi(i,a.aUCc)&&n.CPmR(a.iuZt.PmGp,r)})),u(this,"uMwi",(function(t,e){var n=Math.ceil(t);return n>e.uanS&&n<e.jTOM})),u(this,"Xsdr",(function(t,e,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];switch(r&&n.acJR.XOvF&&(t+=n.qUSu),i){case"EQ":return t===e;case"GT":return t>e;case"GTE":return t>=e;case"LT":return t<e;case"LTE":return t<=e;default:return!1}})),u(this,"CPmR",(function(t,e){var n=!0;try{var r,a=function(){if(!1===n)return{v:!1};if("object"===i(t[o])){var r,a=t[o].op,u=t[o].t;if("s"===u)r=t[o].val;else if("l"===u||"f"===u)r=parseFloat(t[o].val);else if("b"===u)switch(t[o].val){case"true":r=!0;break;case"false":r=!1;break;default:r=t[o].val}var s=(Array.isArray(e[o])?e[o]:[e[o]]).some((function(t){return"s"===u?t="".concat(t):"l"===u?t=parseInt(t):"f"===u?t=parseFloat(t):"b"===u&&(t=!!t),_(t,r,a)}));n=n&&s}else n=n&&_(e[o],t[o],"EQ")};for(var o in t)if(r=a())return r.v}catch(t){G.error(t),n=!1}return n}))}return o(e,[{key:"_displayCampaign",value:function(t){var e=rt.getInstance();this.Bjuy=!0,this.Bjuy&&(this.mauS+=1,this.Bjuy=this.Xsdr(this.mauS,this.acJR.LwAH,this.acJR.uRuJ),this.Bjuy&&(this.acJR.QCSo=t,e.validate(this.erzi,this.Lhmn)))}}]),e}(),Z=window.ApxorLogger,M=o((function e(){var n=this;r(this,e),u(this,"mTOp",[]),u(this,"_ret_day",{}),u(this,"gUAO",{}),u(this,"otje",!1),u(this,"HiMO",!1),u(this,"retainedDaysValidated",!0),u(this,"retainedSessionValidated",!0),u(this,"eventDoneInLT",!1),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{n.mTOp=t.overall_cfg.events,n._ret_day=t.overall_cfg.ret_day,n.gUAO=t.overall_cfg.session,n.otje=t.overall_cfg.toggleRetDay,n.HiMO=t.overall_cfg.toggleSession}catch(t){return Z.error(t),!1}return!0})),u(this,"validate",(function(){var e=parseInt(t.getController().getFromStorage("apx_retained_days")),i=parseInt(t.getController().getFromStorage("apx_retained_session"));if(n.otje&&!isNaN(e)&&!(e>=n._ret_day.from&&e<=n._ret_day.to))return n.retainedDaysValidated=!1,!1;if(n.HiMO&&!isNaN(i)&&!(i>=n.gUAO.from&&i<=n.gUAO.to))return n.retainedSessionValidated=!1,!1;try{for(var r=t.getController().getFromStorage("_apx_lt_count"),a=t.getSiteId(),o=JSON.parse((new TextDecoder).decode(function(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return e}(p(a,r)))),u=0;u<n.mTOp.length;u++){if(o[n.mTOp[u].name.replace("'","").replace("’","")])return n.eventDoneInLT=!0,!1}}catch(t){Z.error("Failed to validate the lt count:"+t)}return!0}))})),B=window.ApxorLogger,U=o((function t(){var e=this;r(this,t),u(this,"lAmo",[]),u(this,"KKkq",[]),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(e.lAmo=t.attributes.user,e.KKkq=t.attributes.session,!Array.isArray(e.lAmo)||!Array.isArray(e.KKkq))return B.error("No attributes"),!1}catch(t){return B.error(t),!1}return!0})),u(this,"validate",(function(t,n){return e.gRtm(t,e.lAmo)&&e.gRtm(n,e.KKkq)})),u(this,"gRtm",(function(t,e){var n=e.length,i=!0;try{for(var r,a=function(){var n=e[o];if(!t[n.name]||!1===i)return{v:!1};var r=n.operator,a=n.type,u=n.value.map((function(t){return"s"===a?t:"l"===a?parseInt(t):"f"===a?parseFloat(t):void 0})),s=(Array.isArray(t[n.name])?t[n.name]:[t[n.name]]).some((function(t){return u.some((function(e){return _(t,e,r)}))}));i=i&&s},o=0;o<n;o++)if(r=a())return r.v}catch(t){B.error(t),i=!1}return i}))})),V=o((function e(){var n=this;r(this,e),u(this,"AqCX",t.getController()),u(this,"type",""),u(this,"_duration_seconds",0),u(this,"bEYI",1),u(this,"parse",(function(t){try{var e,i,r;if(n.ttxb=null===(e=t.terminate_info.time_based)||void 0===e?void 0:e.type,n._duration_seconds=null===(i=t.terminate_info)||void 0===i?void 0:i.time_based.duration_seconds,n.bEYI=null===(r=t.terminate_info.time_based)||void 0===r?void 0:r.days,n.GBXw(t._id))return n.AqCX.persistTerminationInfoLocally(t._id),!1}catch(t){return!1}return!0})),u(this,"GBXw",(function(t){var e,i=JSON.parse(n.AqCX.getFromStorage("apx_termination_ID"));if(!i[t]||null===(e=i[t])||void 0===e||!e.startDate)return!1;var r,a=new Date(i[t].startDate),o=new Date((r=new Date).getMonth()+"/"+r.getDate()+"/"+r.getFullYear()),u=parseInt((o-a)/864e5,10),s=function(){var t=new Date;return{hours:t.getHours(),mins:t.getMinutes()}}(),c=i[t].COlG;return u===n.bEYI&&s.hours>=c.hours||u>n.bEYI||i[t].goalAcheived}))})),Y=o((function t(){var e=this;r(this,t),u(this,"enable_goal_events",!1),u(this,"attributes",{}),u(this,"ZhTu",new U),u(this,"DoCF",new V),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var n,i,r;if(e.enable_time_based=null==t||null===(n=t.terminate_info)||void 0===n?void 0:n.enable_time_based,e.enable_time_based&&!e.DoCF.parse(t))return!1;if(e.enable_goal_events=null==t||null===(i=t.terminate_info)||void 0===i?void 0:i.enable_goal_events,e.enable_attributes=null==t||null===(r=t.terminate_info)||void 0===r?void 0:r.enable_attributes,e.enable_attributes&&!e.ZhTu.parse(t.terminate_info))return!1}catch(t){return window.ApxorLogger.error(t),!1}return!0})),u(this,"validate",(function(t,n){return e.ZhTu.validate(t,n)}))})),X=o((function t(){var e=this;r(this,t),u(this,"WbvM",""),u(this,"OJmH",""),u(this,"GNkp",""),u(this,"vxwn",""),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return e.WbvM=null==t?void 0:t.screen_binding,!e.WbvM||(e.OJmH=null==t?void 0:t.binding.url,e.GNkp=null==t?void 0:t.binding.var,e.vxwn=null==t?void 0:t.binding.operator,!0)}catch(t){return window.ApxorLogger.error(t),!1}})),u(this,"validate",(function(){var t=e.OJmH,n=e.GNkp,i=e.vxwn,r=window.location.href;return!e.WbvM||("EQ"===i?t.includes(n)?!!E(r,t,n,!1):r===t:"SW"===i?t.includes(n)?!!E(r,t,n,!0):!!r.startsWith(t):void 0)}))})),W=window.ApxorLogger,$=o((function e(){var i=this;r(this,e),u(this,"uZkD",[]),u(this,"wGmm",[]),u(this,"erzi",""),u(this,"yucQ",new k),u(this,"iKkY",new L),u(this,"zlJQ",new Q),u(this,"zEiw",new T),u(this,"pDYx",new M),u(this,"kYfj",new Y),u(this,"NrKn",new X),u(this,"DAwv",!1),u(this,"zzKb",[]),u(this,"_variant_code",""),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var e;if(!v(t._id))return W.error("No Id"),!1;if(!v(t.enabled)||!t.enabled)return W.error("Not enabled"),!1;if(!(i.yucQ.parse(t)&&i.zlJQ.parse(t)&&i.zEiw.parse(t)&&i.iKkY.parse(t)&&i.pDYx.parse(t)&&i.kYfj.parse(t)&&i.NrKn.parse(t)))return!1;if(i._variant_code=i.yucQ._isExperiment||i.yucQ._only_context?null===(e=i.yucQ._attr)||void 0===e?void 0:e.apx_variant_code:"TG",!v(t.conditions)||!Array.isArray(t.conditions))return W.error("No valid conditions",t.conditions),!1;i.erzi=t._id,i.DAwv=!!v(t.sequence_enabled)&&t.sequence_enabled,i.DAwv&&t.conditions.sort((function(t,e){return t.sequence<e.sequence}));var n=t.conditions,r=n.length,a=null==t?void 0:t.no_context_enabled;0===r&&a&&setTimeout((function(){i.VanT()}),10);for(var o=function(){i.zzKb=[];var t=n[u];if("didn't"===t.type){var e,r={trigger_key:t.trigger.details.name,no_kpi_array:null==t||null===(e=t.details)||void 0===e||null===(e=e.additional_info)||void 0===e?void 0:e.nkpi,condition_id:null==t?void 0:t._id,time_bounds:t.time_bounds.upper};i.zzKb=[].concat(s(i.zzKb),[r])}var a=new P;if(a.initialize(t,i.erzi,u,i.DAwv,i.zzKb)){i.uZkD.push(a);var o=(null==t?void 0:t.timeout)/(null==t?void 0:t.findinterval),c=(null==t?void 0:t.frameid)||"",l=null==t?void 0:t.url;window.location.href===l&&"view_visibility"===t.event_type&&!0===x(t.view_id,c,null==t?void 0:t.enable_retry,null==t?void 0:t.findinterval,o)&&i.VanT(!0),window.addEventListener("navigate",(function(e){var n=null==t?void 0:t.url;window.location.href===n&&"view_visibility"===t.event_type&&!0===x(t.view_id,c,null==t?void 0:t.enable_retry,null==t?void 0:t.findinterval,o)&&i.VanT(!0)}))}},u=0;u<r;u++)o();if(i.kYfj.enable_goal_events)for(var c=t.terminate_info.goal_events.events,l=c.length,d=0;d<l;d++){var f=new P;f.initialize(c[d],i.erzi,d,!0,[],"termination")&&i.wGmm.push(f)}return i.uZkD.length>0}catch(t){return W.error(t),!1}})),u(this,"rBxE",(function(t){if(!(t<0))if(i.DAwv){var e=i.uZkD[t];if(v(e)&&e.Bjuy){var n=i.uZkD[t-1];if(v(n)&&!n.Bjuy)return;var r=i.uZkD[t+1];v(r)?r.cVqA():i.VanT()}}else i.VanT()})),u(this,"jDbN",(function(t){t<0||i.iwdQ()})),u(this,"VanT",(function(){var e,r,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=t.getController().getUserAttributes(),u=t.getController().getSessionAttributes();if(null!==(e=window.ApxorRTM)&&void 0!==e&&e.isBadgePresent&&null!==(r=window.ApxorRTM)&&void 0!==r&&r.badgesLists.includes(i.erzi)&&t.getController().isBadgeTriggerSatisfied(i.erzi)||null==t||t.logEvent("apx_trigger_satisfied",{apx_nudge_type:"SURVEY"===i.yucQ.ttxb?"survey":"campaign",apx_nudge_id:i.erzi,apx_nudge_name:i.yucQ.aEjc,apx_variant_code:i.yucQ._isExperiment||i.yucQ._only_context?i.yucQ._attr.apx_variant_code:"TG"}),!(i.zlJQ.validate()&&i.iKkY.validate(o,u)&&i.pDYx.validate()&&i.NrKn.validate()))return i.pDYx.retainedDaysValidated?i.pDYx.retainedSessionValidated?i.pDYx.eventDoneInLT?void i.kuEF("Event done in life time"):i.iKkY.userAttributesValidated?i.iKkY.sessionAttributeValidated?i.zlJQ._not_in_specified_time?void i.kuEF("Time limits check failed"):i.zlJQ._not_yet_active?void i.kuEF("not in the scheduled time"):i.zlJQ._nudge_expired?void i.kuEF("nudge expired"):void 0:void i.kuEF("Session property filter not met"):void i.kuEF("User property filter not met"):void i.kuEF("User session criteria not met"):void i.kuEF("Retained day criteria not met");var s=i.uZkD.length,c=s<1,l="";0===s&&(c=!0);for(var d=0;d<s;d++){var v=i.uZkD[d],f=v.Bjuy;if(""===l.trim())c=f;else switch(l){case"AND":c=c&&f;break;case"OR":c=c||f}l=v.KHyu}if(!0===a&&(c=!0),c){if(console.debug("onCondition satisfied"),!i.zEiw.TwxP(i.erzi)){if(console.warn("Maximum limit reached",i.erzi),t.getController().isTestDevice()){C("Maximum limit reached for campaign name ".concat(i.yucQ.aEjc));var h=document.getElementById("close-button"),p=function(){var t=document.getElementById("apx-container");null==t||t.remove()};null==h||h.addEventListener("click",p),window.setTimeout(p,2e4)}return}console.log("Dispatching event",i.yucQ.ttxb),t.logEvent("apx_context_evaluated",n(n({apx_nudge_type:"SURVEY"===i.yucQ.ttxb?"survey":"campaign",apx_nudge_id:i.erzi,apx_nudge_name:i.yucQ.aEjc,apx_variant_code:i.yucQ._isExperiment||i.yucQ._only_context?i.yucQ._attr.apx_variant_code:"TG"},i.yucQ._attr),{},{message_name:i.yucQ.aEjc,id:i.erzi})),t.getController().dispatchEvent(i.yucQ.ttxb,{name:i.yucQ.ttxb,additional_info:{uuid:i.erzi,name:i.yucQ.aEjc}})}})),u(this,"iwdQ",(function(){for(var e=i.wGmm.length,r=e<1,a="",o=0;o<e;o++){var u=i.wGmm[o],s=u.Bjuy;if(""===a.trim())r=s;else switch(a){case"AND":r=r&&s;break;case"OR":r=r||s}a=u.llth}r&&(console.log("Dispatching event",i.yucQ.ttxb),t.getController().persistTerminationInfoLocally(i.erzi),!0===i.yucQ._only_context&&t.logEvent("apx_context_evaluated",n(n({},i.yucQ._attr),{},{message_name:i.yucQ.aEjc,id:i.erzi})),t.getController().dispatchEvent(i.yucQ.ttxb,{name:i.yucQ.ttxb,additional_info:{uuid:i.erzi,name:i.yucQ.aEjc}}))})),u(this,"validateForTerminationAttributes",(function(){var e=t.getController().getUserAttributes(),n=t.getController().getSessionAttributes();return i.kYfj.validate(e,n)})),u(this,"Rpge",(function(){i.zEiw.Rpge()})),u(this,"getFrequencyCount",(function(){return i.zEiw.getFrequencyCount()})),u(this,"EsAu",(function(){return i.zEiw.lVvT()})),u(this,"kuEF",(function(e){var n;null==t||t.logEvent("apx_non_eligible_user",{apx_nudge_type:"SURVEY"===i.yucQ.ttxb?"survey":"campaign",apx_nudge_id:i.erzi,apx_nudge_name:i.yucQ.aEjc,apx_variant_code:i.yucQ._isExperiment||i.yucQ._only_context?null===(n=i.yucQ._attr)||void 0===n?void 0:n.apx_variant_code:"TG",apx_failure_type:"warn",apx_reason:e})}))})),tt=o((function t(){var e=this;r(this,t),u(this,"tKJr",{}),u(this,"parse",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{configs:[]};if(v(t)&&v(t.configs)){var n=t.configs;if(!Array.isArray(n))return;n.sort((function(t,e){var n,i;return(null!==(n=t.prio)&&void 0!==n?n:-1)-(null!==(i=e.prio)&&void 0!==i?i:-1)}));for(var i=0;i<n.length;i++){var r=n[i],a=r._id,o=new $;o.parse(r)?e.tKJr[a]=o:console.warn("Failed to parse cfg",a)}}})),u(this,"validate",(function(t,n){e.tKJr[t]&&e.tKJr[t].rBxE(n)})),u(this,"getVariantCode",(function(t){return e.tKJr[t]?e.tKJr[t]._variant_code:""})),u(this,"validateForTermination",(function(t,n){e.tKJr[t]&&e.tKJr[t].jDbN(n)})),u(this,"validateForTerminationAttributes",(function(t){return!!e.tKJr[t]&&e.tKJr[t].validateForTerminationAttributes()})),u(this,"Rpge",(function(t){e.tKJr[t].Rpge()})),u(this,"getFrequencyCount",(function(t){var n=e.tKJr[t];if(null!=n)return n.getFrequencyCount()})),u(this,"resetFrequencyCounts",(function(){var t=e.tKJr;for(var n in t)t[n].EsAu()})),u(this,"flVe",(function(t){try{if(e.tKJr){var n=e.tKJr[t];if(n&&n.yucQ)return n.yucQ}}catch(t){console.log("Error in getting the campaign meta ".concat(t))}return{}}))})),et=window.ApxorLogger,nt=o((function e(){var n=this;r(this,e),u(this,"DEEc",{}),u(this,"Xnir",[]),u(this,"HsHg",!1),u(this,"initialize",(function(){var e=t.getController();e.registerForEvent("APP_EVENT",(function(t){return n.IDNK(t,"AE")})),e.registerForEvent("CLIENT_EVENT",(function(t){return n.IDNK(t,"CE")}))})),u(this,"mtat",(function(){for(var t in n.Xnir)n.wqPF(t.event,t.key,t.type);n.HsHg=!0})),u(this,"Pihc",(function(t,e){var i;"function"==typeof e&&((i=n.DEEc[t]?n.DEEc[t]:[]).push(e),n.DEEc[t]=i,et.debug("Listeners list: ",n.DEEc))})),u(this,"unregisterFromEvent",(function(t,e){if(n.DEEc[t]){for(var i=n.DEEc[t],r=[],a=0;a<i.length;a++){var o=i[a];o!==e&&r.push(o)}n.DEEc[t]=r}})),u(this,"IDNK",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AE",i=e+"___"+t.name;n.wqPF(t,i,e)})),u(this,"wqPF",(function(e,i,r){if(n.HsHg){if(et.debug("Notifying listeners for event: "+e+", "+i,n.DEEc),n.DEEc[i])for(var a=n.DEEc[i],o=t.getController().getSDKRunningTimeInSec(),u=0;u<a.length;u++){(0,a[u])(r,e.name,o,e.additional_info)}}else n.Xnir.push({event:e,key:i,type:r})}))})),it=window.ApxorLogger,rt=function(){function e(){var n=this;return r(this,e),u(this,"XuCl",!1),u(this,"OOAh",null),u(this,"NzDe",w()),u(this,"ODft",new nt),u(this,"YEJS",t.getSiteId()),u(this,"eOxl",{}),u(this,"getQeState",(function(){try{var e=t.getController().getFromStorage("qe_state");return e?JSON.parse(p(n.YEJS,e)):(n.eOxl={},n.setQeState())}catch(t){return n.eOxl={},n.setQeState()}})),u(this,"setQeState",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{t.getController().persistToStorage("qe_state",n.eOxl,!0)}catch(i){""===e?n.eOxl={}:n.eOxl[e]={SESSION:0,OVERALL:0,DATES:{}},t.getController().persistToStorage("qe_state",n.eOxl,!0)}return n.eOxl})),u(this,"initialize",(function(){n.XuCl||(n.XuCl=!0,n.OOAh=new tt,n.ODft.initialize(),n.eOxl=n.getQeState(),it.info("QE Initialized.."))})),u(this,"parse",(function(t){n.cNWK()?(n.OOAh.parse(t),n.ODft.mtat()):it.warn("Must call init first. Unable to proceed")})),u(this,"validate",(function(t,e){n.cNWK()&&n.OOAh.validate(t,e)})),u(this,"getVariantCode",(function(t){return n.OOAh.getVariantCode(t)})),u(this,"validateForTermination",(function(t,e){n.cNWK()&&n.OOAh.validateForTermination(t,e)})),u(this,"validateForTerminationAttributes",(function(t,e){return n.OOAh.validateForTerminationAttributes(t,e)})),u(this,"updateCount",(function(t){try{v(n.eOxl[t])||n.createObjConfig(t),n.incrementFrequencies(t),n.setQeState(t),n.OOAh.Rpge(t)}catch(t){console.log("Could not update the count config:".concat(t))}})),u(this,"resetFrequencyCounts",(function(){n.OOAh.resetFrequencyCounts()})),u(this,"getFrequencyCount",(function(t){return n.OOAh.getFrequencyCount(t)})),u(this,"registerForEvent",(function(t,e){n.ODft.Pihc(t,e)})),u(this,"unregisterFromEvent",(function(t,e){n.ODft.unregisterFromEvent(t,e)})),u(this,"notifyEventListener",(function(t){n.ODft.IDNK(t)})),u(this,"fetch",(function(e,n,i,r){t.getController().fetchConfiguration(e,n,i,r)})),u(this,"cNWK",(function(){return n.XuCl})),u(this,"getCampaignMetaFromQueryEngine",(function(t){return n.OOAh.flVe(t)})),u(this,"rvdD",(function(){return n.NzDe})),e.instance||(e.instance=this),e.instance}return o(e,[{key:"createObjConfig",value:function(t){try{this.eOxl=this.getQeState(),v(this.eOxl[t])||(this.eOxl[t]={SESSION:0,OVERALL:0,DATES:{}},this.NzDe&&(this.eOxl[t].DATES[this.NzDe]=0),this.setQeState(t))}catch(t){it.error("Can not create the frequency count object:"+t)}}},{key:"incrementFrequencies",value:function(t){this.eOxl=this.getQeState();var e=this.eOxl[t];e.SESSION=e.SESSION+1,e.OVERALL=e.OVERALL+1;var n=w();n===this.NzDe&&e.DATES&&e.DATES[n]||(this.NzDe=n,e.DATES={},e.DATES[this.NzDe]=0),e.DATES[this.NzDe]=e.DATES[this.NzDe]+1}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();u(rt,"instance",void 0),window.ceVersion=160;try{void 0===exports&&null===exports||(exports.default=rt,module.exports=exports.default)}catch(t){}return rt}));
